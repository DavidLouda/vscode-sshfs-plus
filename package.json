{
    "name": "vscode-sshfs-plus",
    "displayName": "SSH FS Plus",
    "description": "SSH workspace with full GitHub Copilot & AI support — file system, terminals, tasks, and 7 language model tools for remote development over SSH",
    "publisher": "DavidLouda",
    "version": "2.6.3",
    "engines": {
        "vscode": "^1.100.0"
    },
    "categories": [
        "Other"
    ],
    "extensionKind": [
        "ui",
        "workspace"
    ],
    "activationEvents": [
        "onFileSystem:ssh",
        "onFileSystemAccess:ssh"
    ],
    "main": "./dist/extension.js",
    "homepage": "https://github.com/DavidLouda/vscode-sshfs-plus",
    "author": {
        "name": "David Louda",
        "url": "https://github.com/DavidLouda"
    },
    "contributors": [
        {
            "name": "Kelvin Schoofs",
            "email": "schoofs.kelvin@gmail.com",
            "url": "https://github.com/SchoofsKelvin"
        }
    ],
    "repository": {
        "type": "git",
        "url": "https://github.com/DavidLouda/vscode-sshfs-plus"
    },
    "bugs": {
        "url": "https://github.com/DavidLouda/vscode-sshfs-plus/issues"
    },
    "license": "GPL-3.0",
    "icon": "resources/Logo.png",
    "keywords": [
        "remote",
        "ssh",
        "sshfs",
        "sync",
        "filesystem",
        "terminal",
        "sftp",
        "scp"
    ],
    "badges": [
        {
            "url": "https://img.shields.io/github/v/release/DavidLouda/vscode-sshfs-plus?include_prereleases&label=GitHub%20version",
            "href": "https://github.com/DavidLouda/vscode-sshfs-plus/releases",
            "description": "Releases on GitHub"
        }
    ],
    "contributes": {
        "views": {
            "sshfs": [
                {
                    "id": "sshfs-configs",
                    "name": "Configurations",
                    "contextualTitle": "SSH FS - Configurations",
                    "icon": "resources/icon.svg",
                    "visibility": "visible"
                },
                {
                    "id": "sshfs-connections",
                    "name": "Connections",
                    "contextualTitle": "SSH FS - Connections",
                    "icon": "resources/icon.svg",
                    "visibility": "visible"
                }
            ]
        },
        "viewsContainers": {
            "activitybar": [
                {
                    "id": "sshfs",
                    "title": "SSH FS",
                    "icon": "resources/icon.svg"
                }
            ]
        },
        "commands": [
            {
                "command": "sshfs.new",
                "title": "Create a SSH FS configuration",
                "category": "SSH FS",
                "icon": "$(new-file)"
            },
            {
                "command": "sshfs.add",
                "title": "Add as Workspace folder",
                "category": "SSH FS",
                "icon": "$(new-folder)"
            },
            {
                "command": "sshfs.disconnect",
                "title": "Disconnect",
                "category": "SSH FS",
                "icon": "$(debug-disconnect)"
            },
            {
                "command": "sshfs.disconnectAll",
                "title": "Disconnect all",
                "category": "SSH FS",
                "icon": "$(debug-disconnect)"
            },
            {
                "command": "sshfs.terminal",
                "title": "Open remote SSH terminal",
                "category": "SSH FS",
                "icon": "$(terminal)"
            },
            {
                "command": "sshfs.configure",
                "title": "Edit configuration",
                "category": "SSH FS",
                "icon": "$(settings-gear)"
            },
            {
                "command": "sshfs.reload",
                "title": "Reload configurations",
                "category": "SSH FS",
                "icon": "$(refresh)"
            },
            {
                "command": "sshfs.settings",
                "title": "Open settings and edit configurations",
                "category": "SSH FS",
                "icon": "$(settings)"
            },
            {
                "command": "sshfs.refresh",
                "title": "Refresh",
                "category": "SSH FS",
                "icon": "$(refresh)"
            },
            {
                "command": "sshfs.focusTerminal",
                "title": "Focus terminal",
                "category": "SSH FS",
                "icon": "$(eye)"
            },
            {
                "command": "sshfs.closeTerminal",
                "title": "Close terminal",
                "category": "SSH FS",
                "icon": "$(close)"
            }
        ],
        "menus": {
            "commandPalette": [
                {
                    "command": "sshfs.new",
                    "group": "SSH FS@1"
                },
                {
                    "command": "sshfs.add",
                    "group": "SSH FS@2"
                },
                {
                    "command": "sshfs.disconnect",
                    "group": "SSH FS@3"
                },
                {
                    "command": "sshfs.terminal",
                    "group": "SSH FS@4"
                },
                {
                    "command": "sshfs.configure",
                    "group": "SSH FS@5"
                },
                {
                    "command": "sshfs.reload",
                    "group": "SSH FS@6"
                },
                {
                    "command": "sshfs.disconnectAll",
                    "group": "SSH FS@7"
                },
                {
                    "command": "sshfs.settings",
                    "group": "SSH FS@8"
                },
                {
                    "command": "sshfs.focusTerminal",
                    "when": "false"
                },
                {
                    "command": "sshfs.closeTerminal",
                    "when": "false"
                },
                {
                    "command": "sshfs.refresh",
                    "when": "false"
                }
            ],
            "view/title": [
                {
                    "command": "sshfs.refresh",
                    "when": "view == 'sshfs-configs' || view == 'sshfs-connections'",
                    "group": "navigation@1"
                },
                {
                    "command": "sshfs.new",
                    "when": "view == 'sshfs-configs'",
                    "group": "navigation@2"
                },
                {
                    "command": "sshfs.add",
                    "when": "view == 'sshfs-connections'",
                    "group": "navigation@2"
                },
                {
                    "command": "sshfs.disconnectAll",
                    "when": "view == 'sshfs-connections'",
                    "group": "navigation@3"
                },
                {
                    "command": "sshfs.settings",
                    "when": "view == 'sshfs-configs' || view == 'sshfs-connections'",
                    "group": "navigation@100"
                }
            ],
            "view/item/context": [
                {
                    "command": "sshfs.add",
                    "when": "view == 'sshfs-configs' && viewItem == config",
                    "group": "inline@1"
                },
                {
                    "command": "sshfs.terminal",
                    "when": "view == 'sshfs-configs' && viewItem == config",
                    "group": "inline@2"
                },
                {
                    "command": "sshfs.configure",
                    "when": "view == 'sshfs-configs' && viewItem == config",
                    "group": "inline@3"
                },
                {
                    "command": "sshfs.disconnect",
                    "when": "view == 'sshfs-configs' && viewItem == config",
                    "group": "inline@4"
                },
                {
                    "command": "sshfs.terminal",
                    "when": "view == 'sshfs-connections' && viewItem == connection",
                    "group": "inline@1"
                },
                {
                    "command": "sshfs.disconnect",
                    "when": "view == 'sshfs-connections' && viewItem == connection",
                    "group": "inline@2"
                },
                {
                    "command": "sshfs.closeTerminal",
                    "when": "view == 'sshfs-connections' && viewItem == terminal",
                    "group": "inline@1"
                }
            ],
            "explorer/context": [
                {
                    "command": "sshfs.terminal",
                    "when": "explorerResourceIsFolder && resourceScheme == ssh",
                    "group": "navigation@30"
                }
            ],
            "statusBar/remoteIndicator": [
                {
                    "command": "sshfs.add",
                    "group": "remote_11_ssh_sshfs@1"
                },
                {
                    "command": "sshfs.terminal",
                    "group": "remote_11_ssh_sshfs@2"
                },
                {
                    "command": "sshfs.settings",
                    "group": "remote_11_ssh_sshfs@3"
                },
                {
                    "command": "sshfs.disconnect",
                    "group": "remote_11_ssh_sshfs@4",
                    "when": "sshfs.openConnections > 0"
                },
                {
                    "command": "sshfs.disconnectAll",
                    "group": "remote_11_ssh_sshfs@5",
                    "when": "sshfs.openConnections > 0"
                }
            ]
        },
        "configuration": {
            "title": "SSH FS Configuration",
            "properties": {
                "sshfs.configpaths": {
                    "title": "A list of file locations to load SSH FS configurations from",
                    "description": "Location of JSON files to load configs from",
                    "type": "array",
                    "items": "string",
                    "default": []
                },
                "sshfs.configs": {
                    "title": "A list of SSH FS configurations",
                    "description": "Use the Settings UI to edit configurations (run command SSH FS: Open settings and edit configurations)",
                    "markdownDescription": "Use the Settings UI to edit configurations *(run command `SSH FS: Open settings and edit configurations`)*",
                    "type": "array",
                    "items": "object",
                    "default": [
                        {
                            "root": "/tmp",
                            "host": "localhost",
                            "port": 22,
                            "username": "root",
                            "password": "CorrectHorseBatteryStaple"
                        }
                    ]
                },
                "sshfs.flags": {
                    "title": "List of special flags to enable/disable certain fixes/features",
                    "description": "Flags are usually used for issues or beta testing. Flags can disappear/change anytime!",
                    "type": "array",
                    "items": "string",
                    "default": []
                }
            }
        },
        "taskDefinitions": [
            {
                "type": "ssh-shell",
                "properties": {
                    "host": {
                        "type": "string",
                        "description": "The configuration (name) to run this task on"
                    },
                    "command": {
                        "type": "string",
                        "description": "The command to run on the server"
                    },
                    "workingDirectory": {
                        "type": "string",
                        "description": "The working directory (relative to the config-defined root) to run the command in"
                    }
                },
                "required": [
                    "host",
                    "command"
                ]
            }
        ],
        "resourceLabelFormatters": [
            {
                "scheme": "ssh",
                "formatting": {
                    "label": "${scheme}://${authority}/${path}",
                    "separator": "/",
                    "tildify": false,
                    "stripPathStartingSeparator": true,
                    "workspaceSuffix": "SSH FS"
                }
            }
        ],
        "viewsWelcome": [
            {
                "view": "sshfs-configs",
                "contents": "No configurations created yet"
            },
            {
                "view": "sshfs-connections",
                "contents": "Not connected to anything"
            }
        ],
        "chatParticipants": [
            {
                "id": "vscode-sshfs.sshfs",
                "name": "sshfs",
                "fullName": "SSH FS Plus",
                "description": "Work with SSH remote files using Copilot",
                "isSticky": false
            }
        ],
        "languageModelTools": [
            {
                "name": "sshfs_run_command",
                "displayName": "SSH Run Command",
                "modelDescription": "IMPORTANT: This tool is only shown when an SSH remote connection is active via SSH FS Plus. It executes a shell command directly on the remote SSH server and returns stdout+stderr. The workspace filesystem is remote (SSH/SFTP), so standard VS Code tools are slow. Use this for: checking file metadata (stat/wc), running build/test commands, git operations, managing services, and other general shell tasks. For READING FILE CONTENTS, prefer sshfs_read_file (faster, adds line numbers). For EDITING FILES, prefer sshfs_edit_file (safer, exact string replacement via SFTP). For file search by name, prefer sshfs_find_files. For directory listing, prefer sshfs_list_directory. For text search, prefer sshfs_search_text. For project structure, prefer sshfs_directory_tree.",
                "canBeReferencedInPrompt": true,
                "toolReferenceName": "sshCommand",
                "icon": "$(terminal)",
                "userDescription": "Run a command on the remote SSH server",
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "command": {
                            "type": "string",
                            "description": "The shell command to execute on the remote SSH server"
                        },
                        "connectionName": {
                            "type": "string",
                            "description": "The SSH FS connection name to use. If omitted, uses the first active connection."
                        }
                    },
                    "required": [
                        "command"
                    ]
                },
                "when": "sshfs.openConnections > 0"
            },
            {
                "name": "sshfs_find_files",
                "displayName": "SSH Find Files",
                "modelDescription": "CRITICAL: This tool is only shown when an SSH remote connection is active. The built-in file_search tool WILL FAIL (timeout) on this workspace because the filesystem is remote SSH/SFTP. You MUST use this tool instead of file_search for ALL name-based searches — it finds BOTH files AND folders/directories. Runs `find` directly on the remote Linux server — returns results instantly. Accepts: file names ('style.css'), folder names ('ThemeOffice'), glob patterns ('*.php', 'config*'), partial names. Returns paths relative to workspace root. Use this whenever asked to find, locate, or search for a file or folder by name. To see what is inside a specific directory, use sshfs_list_directory. For project structure overview, use sshfs_directory_tree. For searching text INSIDE files, use sshfs_search_text.",
                "canBeReferencedInPrompt": true,
                "toolReferenceName": "sshFindFiles",
                "icon": "$(search)",
                "userDescription": "Find files or folders on the remote SSH server by name or pattern",
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "pattern": {
                            "type": "string",
                            "description": "The file name or glob pattern to search for (e.g. 'mobile-optimized.css', '*.php', 'config*')"
                        },
                        "path": {
                            "type": "string",
                            "description": "Optional subdirectory to search within (relative to workspace root). If omitted, searches the entire workspace."
                        },
                        "connectionName": {
                            "type": "string",
                            "description": "The SSH FS connection name to use. If omitted, uses the first active connection."
                        }
                    },
                    "required": [
                        "pattern"
                    ]
                },
                "when": "sshfs.openConnections > 0"
            },
            {
                "name": "sshfs_list_directory",
                "displayName": "SSH List Directory",
                "modelDescription": "CRITICAL: This tool is only shown when an SSH remote connection is active. The built-in list_dir tool WILL FAIL (timeout) on this workspace because the filesystem is remote SSH/SFTP. You MUST use this tool instead of list_dir to see what is inside a specific directory (like 'ls'). Shows files and subdirectories of the given path with type indicators (/ suffix for directories). Use this ONLY to browse contents of a known directory. To FIND files or folders by name, use sshfs_find_files instead. For project structure overview, use sshfs_directory_tree.",
                "canBeReferencedInPrompt": true,
                "toolReferenceName": "sshListDir",
                "icon": "$(folder)",
                "userDescription": "List the contents of a directory on the remote SSH server",
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "path": {
                            "type": "string",
                            "description": "Directory path to list (relative to workspace root). If omitted, lists the workspace root."
                        },
                        "connectionName": {
                            "type": "string",
                            "description": "The SSH FS connection name to use. If omitted, uses the first active connection."
                        }
                    }
                },
                "when": "sshfs.openConnections > 0"
            },
            {
                "name": "sshfs_search_text",
                "displayName": "SSH Search Text",
                "modelDescription": "CRITICAL: This tool is only shown when an SSH remote connection is active. The built-in grep_search tool WILL FAIL (timeout) on this workspace because the filesystem is remote SSH/SFTP — it tries to download every file over the network. You MUST use this tool instead of grep_search for ALL text searches. Runs `grep` directly on the remote Linux server — returns results instantly. Works on BOTH directories (recursive search) AND single files. Returns matching lines with file paths and line numbers. Supports fixed strings and regex (use isRegex=true with | for alternation, e.g. 'pattern1|pattern2|pattern3'), case-sensitive/insensitive, and file type filtering ('*.php,*.css'). When you know the exact file, pass its path directly — no need to use sshfs_run_command with grep. For finding files by name, use sshfs_find_files. For listing directories, use sshfs_list_directory. For reading file contents, use sshfs_read_file. For project structure overview, use sshfs_directory_tree.",
                "canBeReferencedInPrompt": true,
                "toolReferenceName": "sshSearchText",
                "icon": "$(search)",
                "userDescription": "Search for text in files on the remote SSH server",
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "query": {
                            "type": "string",
                            "description": "The text or regex pattern to search for inside files. With isRegex=true, use | for OR alternation (e.g. 'className1|className2|className3' to find multiple CSS classes at once)."
                        },
                        "includePattern": {
                            "type": "string",
                            "description": "Comma-separated file glob patterns to include (e.g. '*.php,*.html'). If omitted, searches all files."
                        },
                        "path": {
                            "type": "string",
                            "description": "File or directory path to search in (relative to workspace root, or absolute). Can be a single file (e.g. 'css/style.css') or a directory for recursive search. If omitted, searches the entire workspace."
                        },
                        "isRegex": {
                            "type": "boolean",
                            "description": "Whether the query is a regex pattern (default: false, uses literal string matching)"
                        },
                        "caseSensitive": {
                            "type": "boolean",
                            "description": "Whether the search should be case-sensitive (default: false)"
                        },
                        "connectionName": {
                            "type": "string",
                            "description": "The SSH FS connection name to use. If omitted, uses the first active connection."
                        }
                    },
                    "required": [
                        "query"
                    ]
                },
                "when": "sshfs.openConnections > 0"
            },
            {
                "name": "sshfs_directory_tree",
                "displayName": "SSH Directory Tree",
                "modelDescription": "CRITICAL: This tool is only shown when an SSH remote connection is active. Use this tool to get a full hierarchical directory tree of the remote project (or a subdirectory). Returns an indented tree showing all files and folders up to a configurable depth — equivalent to the 'tree' command. This replaces hundreds of slow recursive SFTP readdir calls with a single fast server-side command. Use this FIRST when you need to understand the project structure, explore the codebase layout, or find where things are located. For listing a single directory's contents, use sshfs_list_directory. For finding specific files by name, use sshfs_find_files.",
                "canBeReferencedInPrompt": true,
                "toolReferenceName": "sshTree",
                "icon": "$(list-tree)",
                "userDescription": "Get the directory tree structure of a remote SSH project",
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "path": {
                            "type": "string",
                            "description": "Directory path to get the tree of (relative to workspace root). If omitted, uses the workspace root."
                        },
                        "depth": {
                            "type": "number",
                            "description": "Maximum depth of the tree (1-8). Default is 3. Use lower values for large projects to avoid excessive output."
                        },
                        "connectionName": {
                            "type": "string",
                            "description": "The SSH FS connection name to use. If omitted, uses the first active connection."
                        }
                    }
                },
                "when": "sshfs.openConnections > 0"
            },
            {
                "name": "sshfs_read_file",
                "displayName": "SSH Read File",
                "modelDescription": "CRITICAL: This tool is only shown when an SSH remote connection is active. The built-in read_file tool WILL BE EXTREMELY SLOW on this workspace because the filesystem is remote SSH/SFTP — it downloads the entire file over the network. You MUST use this tool instead of read_file for ALL file reading operations. Reads file contents directly on the remote Linux server using sed/cat — returns results instantly with line numbers. Supports reading specific line ranges (startLine/endLine) or entire files. Returns up to 500 lines per call. Use this whenever you need to read, view, inspect, or examine file contents. For finding files by name, use sshfs_find_files. For searching text inside files, use sshfs_search_text.",
                "canBeReferencedInPrompt": true,
                "toolReferenceName": "sshReadFile",
                "icon": "$(file)",
                "userDescription": "Read file contents from the remote SSH server",
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "path": {
                            "type": "string",
                            "description": "File path to read (relative to workspace root, or absolute). Examples: 'css/style.css', 'templates/index.php'"
                        },
                        "startLine": {
                            "type": "number",
                            "description": "The 1-based line number to start reading from. If omitted, reads from the beginning."
                        },
                        "endLine": {
                            "type": "number",
                            "description": "The 1-based line number to stop reading at (inclusive). If omitted, reads to the end (up to 500 lines max)."
                        },
                        "connectionName": {
                            "type": "string",
                            "description": "The SSH FS connection name to use. If omitted, uses the first active connection."
                        }
                    },
                    "required": [
                        "path"
                    ]
                },
                "when": "sshfs.openConnections > 0"
            },
            {
                "name": "sshfs_edit_file",
                "displayName": "SSH Edit File",
                "modelDescription": "CRITICAL: This tool is only shown when an SSH remote connection is active. The built-in replace_string_in_file tool CANNOT edit files on this workspace because the filesystem uses ssh:// URIs which VS Code blocks as 'outside workspace'. You MUST use this tool instead of replace_string_in_file for ALL file edits on SSH servers. Takes a file path, the exact text to find (oldString), and the replacement text (newString). The oldString must uniquely match exactly one location in the file — include 3-5 lines of surrounding context to ensure uniqueness. Reads the file via SFTP, performs the replacement, and writes it back atomically. For reading file contents first, use sshfs_read_file. For searching text, use sshfs_search_text.",
                "canBeReferencedInPrompt": true,
                "toolReferenceName": "sshEditFile",
                "icon": "$(edit)",
                "userDescription": "Edit a file on the remote SSH server (find and replace text)",
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "path": {
                            "type": "string",
                            "description": "File path to edit (relative to workspace root, or absolute). Examples: 'css/style.css', 'templates/index.php'"
                        },
                        "oldString": {
                            "type": "string",
                            "description": "The exact text to find and replace. Must match exactly one location in the file. Include 3-5 lines of context before and after the target text to ensure uniqueness."
                        },
                        "newString": {
                            "type": "string",
                            "description": "The replacement text. This will replace the oldString exactly."
                        },
                        "connectionName": {
                            "type": "string",
                            "description": "The SSH FS connection name to use. If omitted, uses the first active connection."
                        }
                    },
                    "required": [
                        "path",
                        "oldString",
                        "newString"
                    ]
                },
                "when": "sshfs.openConnections > 0"
            }
        ]
    },
    "capabilities": {
        "virtualWorkspaces": true,
        "untrustedWorkspaces": {
            "supported": true
        }
    },
    "scripts": {
        "vscode:prepublish": "yarn workspaces foreach -A -tvip -j 2 run build",
        "build": "webpack --mode production",
        "compile": "webpack --mode development",
        "watch": "webpack --mode development --watch",
        "lint": "eslint src"
    },
    "devDependencies": {
        "@eslint/js": "^9.0.0",
        "@types/node": "^20.12.1",
        "@types/request": "^2.48.1",
        "@types/semver": "^7.7.0",
        "@types/vscode": "^1.100.0",
        "@types/webpack": "^5.28.0",
        "@types/winreg": "^1.2.30",
        "@vscode/vsce": "^3.0.0",
        "eslint": "^9.0.0",
        "prettier": "^3.0.0",
        "source-map": "^0.7.3",
        "source-map-support": "^0.5.19",
        "ts-loader": "^9.4.2",
        "typescript": "~5.7.3",
        "typescript-eslint": "^8.0.0",
        "webpack": "^5.76.3",
        "webpack-cli": "^6.0.1"
    },
    "dependencies": {
        "common": "workspace:*",
        "event-stream": "^4.0.1",
        "iconv-lite": "^0.6.3",
        "jsonc-parser": "^3.2.0",
        "semver": "^7.3.5",
        "socks": "^2.2.0",
        "ssh2": "^1.16.0",
        "winreg": "^1.2.4"
    },
    "workspaces": [
        "./common",
        "./webview"
    ],
    "packageManager": "yarn@4.6.0",
    "resolutions": {
        "@types/react": "^19.0.0",
        "@types/react-dom": "^19.0.0"
    }
}
